# Задание

Необходимо реализовать rest api с использованием любого известного фреймворка или библиотеки на Java >=17.
В задании нужно будет написать rest api для перенаправления запросов на https://jsonplaceholder.typicode.com/
Реализовать базовую авторизацию, проработать ролевую модель доступа к данным и ведение аудита.

Требования
1) Реализовать обработчики (GET, POST, PUT, DELETE), которые проксируют запросы к https://jsonplaceholder.typicode.com/
    - /api/posts/**
    - /api/users/**
    - /api/albums/**
2) Реализовать базовую авторизацию, с несколькими аккаунтами, у которых будут разные роли.
3) Проработать ролевую модель доступа. Чтобы было минимум 4 роли - ROLE_ADMIN, ROLE_POSTS, ROLE_USERS, ROLE_ALBUMS
    - ROLE_ADMIN -- имеет доступ ко всем обработчикам
    - ROLE_POSTS -- имеет доступ к обработчикам /posts/**
    - ROLE_USERS -- имеет доступ к обработчикам /users/**
    - ROLE_ALBUMS -- имеет доступ к обработчикам /albums/**
4) Реализовать ведение аудита действий. (дата-время, пользователь, имеет ли доступ, параметры запроса, ...).
5) Реализовать inmemory кэш, чтобы уменьшить число запросов к jsonplaceholder. То есть изменения данных сначала должны происходить в кэше, а потом отправляться запросы на jsonplaceholder.

# Реализация
## Запуск

Заупск проекат производится из командной строки с пмощь команды ```./gradlew bootRun```. После заупска rest api становится досутпен на ```localhost:8000```.

## Авторизация
В проекте зарегистрированы 4 пользователя (по одному каждой из требуемых ролей) со следующими данными входа и правами:

|Логин|Пароль|Досутпные api|
|-|-|-|
|admin|123|Все|
|user|123|/api/users/**|
|post|123|/api/posts/**|
|album|123|/api/albums/**|

Для выполнения входа следует пройти на страницу ```/login```. Для выхода - ```/logout```.

## API
API проксирует запросы на https://jsonplaceholder.typicode.com/ по следующим путям:
- /api/posts/**
- /api/users/**
- /api/albums/**

Для всех путей реализованы следующие методы (*module* - это один из ресурсов: posts/users/albums, *id* - идентификатор ресурса):
- GET /api/*module* - проксирует запрос, возвращает все данные этого ресурса
- GET /api/*module*/*id* - проксирует запрос, возвращает один ресурс
- POST /api/*module* - добавляет ресурс, сохраняет изменение в кэше, проксирует изменение при обновлении кэша
- PUT /api/*module*/*id* - меняет ресурс, сохраняет изменение в кэше, проксирует изменение при обновлении кэша
- DELETE /api/*module*/*id* - удаляет ресурс, сохраняет изменение в кэше, проксирует изменение при обновлении кэша

## Cache

Полученные изменяющие запросы (POST, PUT, DELETE) не прокируются мгновенно, но сохраняютсяв кэше. Для посылки запросов и последующей очистки кэша следует отправить POST запрос ```/cache```.
В ответе вернутся все полученные от https://jsonplaceholder.typicode.com/ ответы на сохранённые запросы.

## Audit

Все успешные попытки пользователя отправить запрос сохраняются в следующем формате:
- url - адрес запроса
- body - тело запроса
- method - HTTP метод
- username - имя пользователя
- datetime - время запроса
- access - логическое значение, показывающее есть ли у пользователя право на запрос

При неудачных попытках (Access Denied) данные также записываются, но последнее поле access принимает значение false.

Для получения информации о действиях пользователь следует послать GET запрос на адрес ```/audit```.
